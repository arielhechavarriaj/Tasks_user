<div class="container-fluid">
  <div
    class="row justify-content-center align-items-center"
    style="height: 100vh"
  >
    <div class="col-md-6">
      <form
        (ngSubmit)="onSubmit()"
        [formGroup]="registerForm"
        class="card text-success p-4 border rounded "
      >
        <h2
          class="card-title d-flex justify-content-between align-items-center"
        >
          Crear un Cuenta
          <button
            class="btn btn-outline-success btn-block mt-3"
            routerLink="/auth"
            type="button"
          >
            Ya tienes una cuenta ðŸ¤”
          </button>
        </h2>

        <div class="form-group">
          <label for="name">Nombre:</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text text-success"
              ><i class="bi bi-people-fill"></i
              ></span>
            </div>
            <input
              class="form-control"
              formControlName="name"
              id="name"
              type="text"
            />
          </div>
          <div
            *ngIf="
              registerForm.get('name')?.hasError('required') &&
              registerForm.get('name')?.touched
            "
            class="text-warning"
          >
            El nombre es requerido
          </div>
        </div>
        <div class="form-group">
          <label for="email">Correo:</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text text-success"
              ><i class="bi bi-envelope-fill"></i
              ></span>
            </div>
            <input
              class="form-control"
              formControlName="email"
              id="email"
              type="email"
            />
          </div>

          <div
            *ngIf="
              registerForm.get('email')?.hasError('required') &&
              registerForm.get('email')?.touched
            "
            class="text-warning"
          >
            El correo es requerido
          </div>

          <div
            *ngIf="registerForm.get('email')?.hasError('emailTaken')"
            class="text-warning"
          >
            El correo ya existe
          </div>
        </div>

        <div class="form-group">
          <label for="password">Clave:</label>
          <div class="input-group">
            <div class="input-group-prepend">
      <span class="input-group-text text-success"
      ><i class="bi bi-lock-fill"></i
      ></span>
            </div>
            <input
              [ngClass]="{ 'is-invalid': registerForm.get('password')?.hasError('weakPassword') }"
              [type]="showPassword ? 'text' : 'password'"
              class="form-control"
              formControlName="password"
              id="password"
            />
            <div class="input-group-append">
      <span
        (click)="showPassword = !showPassword"
        class="input-group-text text-success"
      >
        <i
          [class]="showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'"
        ></i>
      </span>
            </div>
          </div>
        </div>


        <div class="form-group">
          <label for="password">Confirmar la Clave:</label>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text text-success"
              ><i class="bi bi-lock-fill"></i
              ></span>
            </div>
            <input
              [type]="showPassword ? 'text' : 'password'"
              class="form-control"
              formControlName="confirmPassword"
              id="confirmPassword"
            />
            <div class="input-group-append">
              <span
                (click)="showPassword = !showPassword"
                class="input-group-text text-success"
              >
                <i
                  [class]="
                    showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'
                  "
                ></i>
              </span>
            </div>
          </div>
          <div
            *ngIf="
              registerForm.hasError('passwordsNotMatch') &&
              registerForm.get('confirmPassword')?.touched
            "
            class="text-warning"
          >
            Las contraseÃ±as no coinciden
          </div>
        </div>

        <div class="d-grid gap-2">
          <button
            [disabled]="!registerForm.valid"
            class="btn btn-outline-success btn-block mt-3"
            type="submit"
          >
            Registrarse ðŸ˜Ž
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
